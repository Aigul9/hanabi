{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/Users/sarahmamy/Workspace/hanabi/src/components/playersBoard.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport posed from \"react-pose\";\nimport { ActionAreaType } from \"./actionArea\";\nimport PlayerGame from \"./playerGame\";\nimport Tutorial, { ITutorialStep } from \"./tutorial\";\nimport { useCurrentPlayer, useGame, useSelfPlayer } from \"../hooks/game\";\nvar Item = posed.div({\n  selected: {\n    height: \"auto\"\n  },\n  notSelected: {\n    height: \"auto\"\n  }\n});\nexport default function PlayersBoard(props) {\n  var selectedArea = props.selectedArea,\n      onSelectPlayer = props.onSelectPlayer,\n      onNotifyPlayer = props.onNotifyPlayer,\n      onReaction = props.onReaction,\n      onCloseArea = props.onCloseArea,\n      onCommitAction = props.onCommitAction;\n  var game = useGame();\n  var selfPlayer = useSelfPlayer();\n  var currentPlayer = useCurrentPlayer();\n  var position = selfPlayer ? selfPlayer.index : game.players.length;\n  var otherPlayers = [].concat(_toConsumableArray(game.players.slice(position + 1)), _toConsumableArray(game.players.slice(0, position)));\n  var selectedPlayer = null;\n  var cardIndex = null;\n\n  if (selectedArea.type === ActionAreaType.SELF_PLAYER) {\n    selectedPlayer = selectedArea.player;\n    cardIndex = selectedArea.cardIndex;\n  }\n\n  if (selectedArea.type === ActionAreaType.OTHER_PLAYER) {\n    selectedPlayer = selectedArea.player;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Tutorial, {\n    step: ITutorialStep.OTHER_PLAYERS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, otherPlayers.map(function (otherPlayer, i) {\n    return __jsx(Item, {\n      key: i,\n      className: \"bb b--yellow bg-main-dark\",\n      pose: selectedPlayer == otherPlayer ? \"selected\" : \"notSelected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(PlayerGame, {\n      active: currentPlayer === otherPlayer,\n      id: \"player-game-\".concat(i + 1),\n      player: otherPlayer,\n      selected: selectedPlayer && selectedPlayer === otherPlayer,\n      onCloseArea: onCloseArea,\n      onCommitAction: onCommitAction,\n      onNotifyPlayer: onNotifyPlayer,\n      onSelectPlayer: onSelectPlayer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  })), selfPlayer && __jsx(Tutorial, {\n    step: ITutorialStep.SELF_PLAYER,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"mb4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(PlayerGame, {\n    active: currentPlayer === selfPlayer,\n    cardIndex: cardIndex,\n    id: \"player-game-self\",\n    player: selfPlayer,\n    selected: selectedPlayer && selectedPlayer === selfPlayer,\n    self: true,\n    onCloseArea: onCloseArea,\n    onCommitAction: onCommitAction,\n    onReaction: onReaction,\n    onSelectPlayer: onSelectPlayer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/sarahmamy/Workspace/hanabi/src/components/playersBoard.tsx"],"names":["React","posed","ActionAreaType","PlayerGame","Tutorial","ITutorialStep","useCurrentPlayer","useGame","useSelfPlayer","Item","div","selected","height","notSelected","PlayersBoard","props","selectedArea","onSelectPlayer","onNotifyPlayer","onReaction","onCloseArea","onCommitAction","game","selfPlayer","currentPlayer","position","index","players","length","otherPlayers","slice","selectedPlayer","cardIndex","type","SELF_PLAYER","player","OTHER_PLAYER","OTHER_PLAYERS","map","otherPlayer","i"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport posed from \"react-pose\";\n\nimport { ActionAreaType, ISelectedArea } from \"~/components/actionArea\";\nimport PlayerGame from \"~/components/playerGame\";\nimport Tutorial, { ITutorialStep } from \"~/components/tutorial\";\nimport { useCurrentPlayer, useGame, useSelfPlayer } from \"~/hooks/game\";\n\ninterface Props {\n  selectedArea: ISelectedArea;\n  onSelectPlayer: Function;\n  onNotifyPlayer: Function;\n  onReaction: Function;\n  onCloseArea: Function;\n  onCommitAction: Function;\n}\n\nconst Item = posed.div({\n  selected: { height: \"auto\" },\n  notSelected: { height: \"auto\" }\n});\n\nexport default function PlayersBoard(props: Props) {\n  const {\n    selectedArea,\n    onSelectPlayer,\n    onNotifyPlayer,\n    onReaction,\n    onCloseArea,\n    onCommitAction\n  } = props;\n\n  const game = useGame();\n  const selfPlayer = useSelfPlayer();\n  const currentPlayer = useCurrentPlayer();\n\n  const position = selfPlayer ? selfPlayer.index : game.players.length;\n  const otherPlayers = [\n    ...game.players.slice(position + 1),\n    ...game.players.slice(0, position)\n  ];\n\n  let selectedPlayer = null;\n  let cardIndex = null;\n  if (selectedArea.type === ActionAreaType.SELF_PLAYER) {\n    selectedPlayer = selectedArea.player;\n    cardIndex = selectedArea.cardIndex;\n  }\n  if (selectedArea.type === ActionAreaType.OTHER_PLAYER) {\n    selectedPlayer = selectedArea.player;\n  }\n\n  return (\n    <>\n      <Tutorial step={ITutorialStep.OTHER_PLAYERS}>\n        {otherPlayers.map((otherPlayer, i) => (\n          <Item\n            key={i}\n            className=\"bb b--yellow bg-main-dark\"\n            pose={selectedPlayer == otherPlayer ? \"selected\" : \"notSelected\"}\n          >\n            <PlayerGame\n              active={currentPlayer === otherPlayer}\n              id={`player-game-${i + 1}`}\n              player={otherPlayer}\n              selected={selectedPlayer && selectedPlayer === otherPlayer}\n              onCloseArea={onCloseArea}\n              onCommitAction={onCommitAction}\n              onNotifyPlayer={onNotifyPlayer}\n              onSelectPlayer={onSelectPlayer}\n            />\n          </Item>\n        ))}\n      </Tutorial>\n      {selfPlayer && (\n        <Tutorial step={ITutorialStep.SELF_PLAYER}>\n          <div className=\"mb4\">\n            <PlayerGame\n              active={currentPlayer === selfPlayer}\n              cardIndex={cardIndex}\n              id=\"player-game-self\"\n              player={selfPlayer}\n              selected={selectedPlayer && selectedPlayer === selfPlayer}\n              self={true}\n              onCloseArea={onCloseArea}\n              onCommitAction={onCommitAction}\n              onReaction={onReaction}\n              onSelectPlayer={onSelectPlayer}\n            />\n          </div>\n        </Tutorial>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}